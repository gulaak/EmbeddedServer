{"remainingRequest":"/Users/agula/Documents/EmbeddedWebServer/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/agula/Documents/EmbeddedWebServer/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/agula/Documents/EmbeddedWebServer/client/src/App.vue","mtime":1604945196296},{"path":"/Users/agula/Documents/EmbeddedWebServer/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/agula/Documents/EmbeddedWebServer/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/agula/Documents/EmbeddedWebServer/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/agula/Documents/EmbeddedWebServer/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpbyBmcm9tICJzb2NrZXQuaW8tY2xpZW50IgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlMToiIiwKICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICBlZGl0ZWREZXNjcmlwdGlvbjogIiIsCiAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgc29ja2V0OiAiIiwKICAgICAgcGVyaXBoZXJhbDJEOiAiIiwKICAgICAgc3RhdHVzOiB7fSAKICAgIH07CiAgfSwKCgogIG1vdW50ZWQoKXsKICAgIHRoaXMuc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwLycpCiAgICB0aGlzLnNvY2tldC5vbigicGVyaXBoZXJhbCBzdGF0dXMiLCAoZGF0YSkgPT4geyAvLyB1cGRhdGUgYWxsIHRoZSBwZXJpcGhlcmFsIHN0YXR1c2VzIAogICAgICBjb25zb2xlLmxvZygiSW4gc3RhdHVzIikKICAgICAgY29uc29sZS5sb2coZGF0YSkgIAogICAgICB0aGlzLnBlcmlwaGVyYWwyRCA9IHRoaXMuY29udmVydE9iamVjdFRvMkQoZGF0YSwzKTsKICAgIH0pOwoKICAgIC8vdGhpcy5wZXJpcGhlcmFsMkQgPSB0aGlzLmNvbnZlcnRPYmplY3RUbzJEKHRoaXMuaXRlbXMsMyk7CiAgfSwKCgogIG1ldGhvZHM6IHsKCiAgICBmaWxlX3NlbmQoKXsKICAgICAgLy92YXIgZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWxlRm9yVXBsb2FkIikuZmlsZXNbMF0KICAgICAgLy9jb25zb2xlLmxvZyhmaWxlKQogICAgICBpZih0aGlzLmZpbGUxKXsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIucmVhZEFzVGV4dCh0aGlzLmZpbGUxLCJVVEYtOCIpOwogICAgICAgIHZhciBzb2NrZXQgPSB0aGlzLnNvY2tldAogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldnQpewogICAgICAgICAgY29uc29sZS5sb2coZXZ0LnRhcmdldC5yZXN1bHQpCiAgICAgICAgICBjb25zb2xlLmxvZyhzb2NrZXQpCiAgICAgICAgICBzb2NrZXQuZW1pdCgnZmlsZSBtZXNzYWdlJywgZXZ0LnRhcmdldC5yZXN1bHQsIHNvY2tldC5pZCk7IC8vIHNlbmQgc29ja2V0IElEIHRvIHRyYWNrIHdoaWNoIGNsaWVudCBzZW50IGEgZmlsZS4KICAgICAgICB9CiAgICAgIH0KICAgICAgCiAgICB9LAoKICAgIHJlbGVhc2VfcmVxdWVzdCgpewogICAgICB0aGlzLnNvY2tldC5lbWl0KCdyZWxlYXNlJywgdGhpcy5zb2NrZXQuaWQpOyAvLyByZWxlYXNlIGFueSByZXNvdXJjZXMgSSBhbSBob2xkaW5nLiAKICAgIH0sCgogICAgaGFuZGxlUmVzcG9uc2UoZGF0YSl7CiAgICAgIHRoaXMuc3RhdHVzID0gZGF0YTsgLy8gZGF0YSBpcyBhbiBvYmplY3QgdGhhdCAKICAgIH0sCgogICAgY29udmVydE9iamVjdFRvMkQob2JqZWN0LG51bU9mUm93cyl7CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIGogPSAwOwogICAgICB2YXIgdGVtcCA9IFtdCiAgICAgIAogICAgICBjb25zb2xlLmxvZyhvYmplY3QpCiAgICAgIGZvciggY29uc3Qga2V5IGluIG9iamVjdCl7CiAgICAgICAgaWYgKGtleSA9PSAiX2lkIiB8fCBrZXkgPT0gIl9fdiIpIGNvbnRpbnVlOyAKICAgICAgICBjb25zb2xlLmxvZyhrZXkpCiAgICAgICAgaWYgKCBpICUgKG51bU9mUm93cykgPT0gMCl7CiAgICAgICAgICB0ZW1wLnB1c2goW10pCiAgICAgICAgICBpZiAoaSAhPSAwKXsKICAgICAgICAgICAgaiArPTEKICAgICAgICAgIH0KICAgICAgICAgIHRlbXBbal0ucHVzaChba2V5LG9iamVjdFtrZXldWzBdLG9iamVjdFtrZXldWzFdXSk7CiAgICAgICAgICAKICAgICAgICB9IGVsc2V7CiAgICAgICAgICB0ZW1wW2pdLnB1c2goW2tleSxvYmplY3Rba2V5XVswXSxvYmplY3Rba2V5XVsxXV0pOwogICAgICAgIH0KICAgICAgICArK2k7CiAgICAgIH0KICAgICBjb25zb2xlLmxvZyh0ZW1wKTsKICAgICByZXR1cm4gdGVtcDsKICAgIH0KCiAgfQp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n\n\n    <b-form-file\n      v-model=\"file1\"\n      :state=\"Boolean(file1)\"\n      placeholder=\"Choose a file or drop it here...\"\n      drop-placeholder=\"Drop file here...\"\n    ></b-form-file>\n    <div class=\"mt-3\"> \n      <span class=\"span-selected-file\"> Selected file: {{ file1 ? file1.name : '' }}</span>\n  \n      <b-button @click=\"file_send()\" variant=\"outline-primary\"> Submit </b-button>\n      <b-button @click=\"release_request()\" variant=\"outline-primary\"> Release </b-button>\n    </div>\n     <!-- <h1 v-for=\"(value, name ) in items\" v-bind:key=\"value\" >\n        {{ name }} : {{ value }}\n      </h1> -->\n\n\n      <div class=\"mt-3\" v-for=\"item in peripheral2D\" v-bind:key=\"item\">\n      <b-card-group deck>\n          <b-card class=\"text-center\" v-bind:class=\"{ free: !column[1] , used: column[1] }\" v-for=\"column in item\" v-bind:key=\"column\"> \n              <b-card-text >{{ column[0]}} {{ column[2]}}</b-card-text>\n          </b-card> \n      </b-card-group>\n      </div>\n\n     \n  \n  </div>\n\n</template>\n\n<script>\nimport io from \"socket.io-client\"\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      file1:\"\",\n      description: \"\",\n      editedDescription: \"\",\n      selected: {},\n      socket: \"\",\n      peripheral2D: \"\",\n      status: {} \n    };\n  },\n\n\n  mounted(){\n    this.socket = io.connect('http://localhost:3000/')\n    this.socket.on(\"peripheral status\", (data) => { // update all the peripheral statuses \n      console.log(\"In status\")\n      console.log(data)  \n      this.peripheral2D = this.convertObjectTo2D(data,3);\n    });\n\n    //this.peripheral2D = this.convertObjectTo2D(this.items,3);\n  },\n\n\n  methods: {\n\n    file_send(){\n      //var file = document.getElementById(\"fileForUpload\").files[0]\n      //console.log(file)\n      if(this.file1){\n        var reader = new FileReader();\n        reader.readAsText(this.file1,\"UTF-8\");\n        var socket = this.socket\n        reader.onload = function(evt){\n          console.log(evt.target.result)\n          console.log(socket)\n          socket.emit('file message', evt.target.result, socket.id); // send socket ID to track which client sent a file.\n        }\n      }\n      \n    },\n\n    release_request(){\n      this.socket.emit('release', this.socket.id); // release any resources I am holding. \n    },\n\n    handleResponse(data){\n      this.status = data; // data is an object that \n    },\n\n    convertObjectTo2D(object,numOfRows){\n      var i = 0;\n      var j = 0;\n      var temp = []\n      \n      console.log(object)\n      for( const key in object){\n        if (key == \"_id\" || key == \"__v\") continue; \n        console.log(key)\n        if ( i % (numOfRows) == 0){\n          temp.push([])\n          if (i != 0){\n            j +=1\n          }\n          temp[j].push([key,object[key][0],object[key][1]]);\n          \n        } else{\n          temp[j].push([key,object[key][0],object[key][1]]);\n        }\n        ++i;\n      }\n     console.log(temp);\n     return temp;\n    }\n\n  }\n};\n</script>\n\n<style>\n#app {\n  margin: auto;\n  margin-top: 3rem;\n  max-width: 700px;\n}\n.icon {\n  cursor: pointer;\n}\n\n.free {\n  background-color: green;\n  color: black;\n}\n.used {\n  background-color: red;\n  color: black;\n}\n\n\n\n\n\n\n\n</style>"]}]}